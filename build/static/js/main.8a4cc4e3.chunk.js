(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{24:function(e,t,s){},25:function(e,t,s){},30:function(e,t,s){},37:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(9),r=s.n(c),i=s(6),n=(s(21),s(22),s(23),s(24),s(25),s(0));var o=()=>Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(n.jsxs)("div",{className:"container-fluid py-2",children:[Object(n.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(n.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{className:"nav-link","aria-current":"page",to:"/",children:"Home"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{className:"nav-link",to:"/products",children:"Product"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{className:"nav-link",to:"/about",children:"About"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(i.b,{className:"nav-link",to:"/contact",children:"Contact"})})]}),Object(n.jsx)(i.b,{className:"navbar-brand mx-auto fw-bold",to:"/",children:"E-Commerce Site"}),Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary ms-auto","data-bs-toggle":"modal","data-bs-target":"#loginModal",children:localStorage.getItem("user")?Object(n.jsx)("a",{className:"fa fa-sign-in me-1",href:"/",onClick:function(){localStorage.removeItem("user"),window.location.href="/login"},children:"Logout"}):Object(n.jsx)(i.b,{className:"fa fa-sign-in me-1",to:"/login",children:"Login"})}),Object(n.jsxs)(i.b,{to:"/cart",className:"btn btn-outline-primary ms-2",children:[Object(n.jsx)("span",{className:"fa fa-shopping-cart me-1"})," Go to Cart"]}),Object(n.jsxs)(i.b,{to:"/my-orders",className:"btn btn-outline-primary ms-2",children:[Object(n.jsx)("span",{className:"fa fa-truck me-1"})," My Orders"]})]})]})})});var l=()=>{const[e,t]=Object(a.useState)(null),[s,c]=Object(a.useState)(null),[r,o]=Object(a.useState)([]),[l,d]=Object(a.useState)({});return Object(a.useEffect)((()=>{(async()=>{const e=new URLSearchParams;e.append("grant_type","client_credentials"),e.append("scope","view_product_selections:priya-test view_shipping_methods:priya-test view_categories:priya-test view_discount_codes:priya-test view_project_settings:priya-test manage_order_edits:priya-test manage_shopping_lists:priya-test view_published_products:priya-test view_cart_discounts:priya-test view_products:priya-test view_tax_categories:priya-test view_standalone_prices:priya-test manage_orders:priya-test manage_sessions:priya-test view_sessions:priya-test view_types:priya-test create_anonymous_token:priya-test manage_customers:priya-test");const a=btoa("IVEdzXUawMnh8-OqOhUvJd8S:dUW4oYPMaTLdN4EvOCPq4u2DQwrlXdF0");try{const s=await fetch("https://auth.eastus.azure.commercetools.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Basic ${a}`},body:e.toString()});if(!s.ok)throw new Error("Failed to fetch token");const c=await s.json();t(c.access_token),localStorage.setItem("token",c.access_token)}catch(s){c(s.message)}})()}),[]),Object(a.useEffect)((()=>{e&&(async e=>{if(e){console.log(e);try{const t=await fetch("https://api.eastus.azure.commercetools.com/priya-test/products",{headers:{Authorization:`Bearer ${e}`}}),s=await t.json();s.results?o(s.results):console.log("No products found.")}catch(s){c("Failed to fetch products")}}})(e)}),[e]),Object(a.useEffect)((()=>{const e=r.reduce(((e,t)=>{console.log(t.productType);const s=t.productType.name||"Unknown Type";return e[s]||(e[s]=[]),e[s].push(t),e}),{});d(e)}),[r]),Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"container py-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 text-center",children:[Object(n.jsx)("h1",{children:"Products"}),Object(n.jsx)("hr",{})]})})}),Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"row justify-content-around",children:[console.log(r),s&&Object(n.jsx)("p",{className:"alert alert-danger",children:s}),Object.keys(l).length>0?Object.keys(l).map((e=>Object(n.jsx)("div",{className:"row justify-content-around",children:l[e].map((e=>Object(n.jsxs)("div",{class:"card my-5 py-4",style:{width:"18rem"},children:[Object(n.jsx)("img",{src:e.masterData.current.masterVariant&&e.masterData.current.masterVariant.images&&e.masterData.current.masterVariant.images.length>0?e.masterData.current.masterVariant.images[0].url:"https://via.placeholder.com/150",alt:e.masterData.current.name.en||"Product Image",class:"card-img-top"}),Object(n.jsxs)("div",{class:"card-body text-center",children:[Object(n.jsx)("h5",{class:"card-title",children:e.masterData.current.name["en-US"]}),Object(n.jsxs)("p",{className:"lead",children:["$",e.masterData.current.masterVariant.prices[0].value.centAmount/100," "]}),Object(n.jsx)(i.b,{to:`/products/${e.id}`,class:"btn btn-outline-primary",children:"Buy Now"})]})]},e.id)))}))):Object(n.jsx)("p",{className:"text-center",children:"Loading products..."})]})})]})};var d=()=>Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{id:"carouselExampleIndicators",class:"carousel slide","data-bs-ride":"carousel",children:[Object(n.jsxs)("div",{class:"carousel-indicators",children:[Object(n.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"0",class:"active","aria-current":"true","aria-label":"Slide 1"}),Object(n.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"1","aria-label":"Slide 2"}),Object(n.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"2","aria-label":"Slide 3"}),Object(n.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"3","aria-label":"Slide 4"})]}),Object(n.jsxs)("div",{class:"carousel-inner",children:[Object(n.jsx)("div",{class:"carousel-item active",children:Object(n.jsx)("img",{src:"/assets/images/home/1.jpg",class:"d-block w-75",alt:"IPhone",height:"500px",style:{margin:"0 auto"}})}),Object(n.jsx)("div",{class:"carousel-item",children:Object(n.jsx)("img",{src:"/assets/images/home/2.jpg",class:"d-block w-75",alt:"IPhone",height:"500px",style:{margin:"0 auto"}})}),Object(n.jsx)("div",{class:"carousel-item",children:Object(n.jsx)("img",{src:"/assets/images/home/3.webp",class:"d-block w-75",alt:"IPhone",height:"500px",style:{margin:"0 auto"}})}),Object(n.jsx)("div",{class:"carousel-item",children:Object(n.jsx)("img",{src:"/assets/images/home/4.webp",class:"d-block w-75",alt:"IPhone",height:"500px",style:{margin:"0 auto"}})})]}),Object(n.jsxs)("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"prev",children:[Object(n.jsx)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),Object(n.jsx)("span",{class:"visually-hidden",children:"Previous"})]}),Object(n.jsxs)("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"next",children:[Object(n.jsx)("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),Object(n.jsx)("span",{class:"visually-hidden",children:"Next"})]})]}),Object(n.jsx)(l,{})]});var j=()=>Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"container py-5 my-5",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h1",{className:"text-primary fw-bold mb-4",children:"About Us"}),Object(n.jsx)("p",{className:"lead mb-4",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nemo molestiae earum rem doloremque, nihil delectus ullam error consectetur? Dicta, non exercitationem in consectetur totam dolorum at voluptate laudantium aliquam, officiis perspiciatis molestias reiciendis consequuntur ullam perferendis velit blanditiis distinctio assumenda a maxime reprehenderit atque. Nam eius rerum distinctio, a illo earum, optio molestias nostrum maxime quibusdam delectus, adipisci impedit? Nam corporis reiciendis minus quod eaque, laborum veritatis voluptatibus id maiores tempore accusantium recusandae perspiciatis, officia cum ad maxime fuga repellendus a magni consequatur. Unde adipisci hic provident est sint corporis, dolorem esse autem soluta molestiae optio quisquam eligendi obcaecati minima?"}),Object(n.jsx)(i.b,{to:"/contact",className:"btn btn-outline-primary px-3",children:"Contact Us"})]}),Object(n.jsx)("div",{className:"col-md-6 d-flex justify-content-center",children:Object(n.jsx)("img",{src:"/assets/images/about.png",alt:"About Us",height:"400px",width:"400px"})})]})})});var m=()=>Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"container mb-5",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsxs)("div",{className:"col-12 text-center py-4 my-4",children:[Object(n.jsx)("h1",{children:"Have Some Question?"}),Object(n.jsx)("hr",{})]})})})}),b=s(4),u=s(10),h=s(11),p=s(12);const O=Object(h.createAuthMiddlewareForClientCredentialsFlow)({host:"https://auth.eastus.azure.commercetools.com",projectKey:"your-project-key",credentials:{clientId:"your-client-id",clientSecret:"your-client-secret"}}),x=Object(p.createHttpMiddleware)({host:"https://api.eastus.azure.commercetools.com"});var y=Object(u.createClient)({middlewares:[O,x]});const g=localStorage.getItem("token"),v=Object(u.createClient)({middlewares:[Object(h.createAuthMiddlewareForClientCredentialsFlow)({host:"https://auth.eastus.azure.commercetools.com",projectKey:"priya-test",credentials:{clientId:"IVEdzXUawMnh8-OqOhUvJd8S",clientSecret:"dUW4oYPMaTLdN4EvOCPq4u2DQwrlXdF0"},fetch:fetch}),Object(p.createHttpMiddleware)({host:"https://api.eastus.azure.commercetools.com",fetch:fetch})]}),N=async e=>{try{const t=await v.execute({uri:"/priya-test/carts",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${g}`},body:{currency:e}});return localStorage.setItem("cartId",t.body.id),t.body}catch(t){console.error("Failed to create cart:",t)}},f=async(e,t,s)=>{try{return(await v.execute({uri:`/priya-test/carts/${e}`,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:{version:1,actions:[{action:"addLineItem",sku:t,quantity:s}]}})).body}catch(a){throw console.error("Failed to add item to cart:",a),a}},w=async e=>{try{return(await y.execute({uri:`/priya-test/carts/${e}`,method:"GET",headers:{Authorization:`Bearer ${g}`}})).body}catch(t){throw console.error("Error fetching cart:",t),t}},S=async(e,t,s)=>{try{return(await v.execute({uri:`/priya-test/carts/${e}`,method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({version:s,actions:[{action:"setShippingAddress",address:{firstName:t.name.split(" ")[0]||"",lastName:t.name.split(" ")[1]||"",streetName:t.address,city:t.city,region:t.state,postalCode:t.postalCode,country:t.country.slice(0,2).toUpperCase(),email:t.email,phone:t.phone}}]})})).body}catch(a){throw console.error("Failed to set shipping address on cart:",a),a}},C=async(e,t,s)=>{try{const a=await v.execute({uri:"/priya-test/orders",method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({cart:{id:e},version:s,orderNumber:`${Date.now()}`,shippingAddress:{firstName:t.name.split(" ")[0]||"",lastName:t.name.split(" ")[1]||"",streetName:t.address,city:t.city,state:t.state,postalCode:t.postalCode,country:t.country.slice(0,2).toUpperCase(),email:t.email,phone:t.phone}})});return console.log(a),a.body}catch(a){throw console.error("Failed to place order:",a),a}};var A=()=>{const[e,t]=Object(a.useState)("Add to Cart"),[s,c]=Object(a.useState)(null),r=localStorage.getItem("token"),{id:i}=Object(b.r)(),[o,l]=Object(a.useState)(null),[d,j]=Object(a.useState)(1),[m,u]=Object(a.useState)(1);Object(a.useEffect)((()=>{(async()=>{if(i&&r)try{const e=await fetch(`https://api.eastus.azure.commercetools.com/priya-test/products/${i}`,{headers:{Authorization:`Bearer ${r}`}});if(!e.ok)throw new Error("Failed to fetch product");const t=await e.json();t?c(t):console.log("No product found.")}catch(e){console.log("Failed to fetch product:",e)}})()}),[i,r]),Object(a.useEffect)((()=>{(async()=>{try{const e="USD",t=await N(e);t&&t.id?(l(t),j(t.version)):console.error("Invalid cart data:",t)}catch(e){console.error("Failed to create or retrieve cart:",e)}})()}),[]);return s?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"container my-5 py-3",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-6 d-flex justify-content-center mx-auto product",children:Object(n.jsx)("img",{src:s.masterData.current.masterVariant&&s.masterData.current.masterVariant.images&&s.masterData.current.masterVariant.images.length>0?s.masterData.current.masterVariant.images[0].url:"https://via.placeholder.com/150",alt:s.masterData.current.name.en||"Product Image",height:"400px"})}),Object(n.jsxs)("div",{className:"col-md-6 d-flex flex-column justify-content-center",children:[Object(n.jsx)("h1",{className:"display-5 fw-bold",children:s.masterData.current.name["en-US"]}),Object(n.jsx)("hr",{}),Object(n.jsxs)("h2",{className:"my-4",children:["Price: $",s.masterData.current.masterVariant.prices[0].value.centAmount/100," "]}),Object(n.jsx)("p",{className:"lead",children:s.masterData.current.description["en-US"]}),Object(n.jsxs)("div",{className:"input-group mb-3",children:[Object(n.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>u(Math.max(1,m-1)),children:"-"}),Object(n.jsx)("input",{type:"number",className:"form-control",value:m,min:"1",onChange:e=>{const t=parseInt(e.target.value);u(isNaN(t)?1:t)}}),Object(n.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>u(m+1),children:"+"})]}),Object(n.jsx)("button",{onClick:async()=>{if(console.log(o.id),console.log(s.masterData.current.masterVariant.sku),console.log(m),s&&o)try{const e=await f(o.id,s.masterData.current.masterVariant.sku,m);e&&(j(e.version),t("Remove from Cart"),console.log("Cart updated successfully:",e))}catch(e){console.error("Failed to update cart:",e)}},className:"btn btn-outline-primary my-2",children:e}),Object(n.jsx)("a",{href:"/cart",className:"btn btn-outline-primary my-2",children:"Go to Cart"})]})]})})}):Object(n.jsx)("div",{children:"Loading product details..."})};var I=()=>{const[e,t]=Object(a.useState)(null),s=localStorage.getItem("cartId");if(Object(a.useEffect)((()=>{(async()=>{try{const e=await w(s);e&&t(e)}catch(e){console.error("Failed to fetch cart data:",e)}})()}),[]),!e)return Object(n.jsx)("div",{children:"Loading Cart..."});if(0===e.lineItems.length)return Object(n.jsx)("div",{children:"Your cart is empty!"});return Object(n.jsxs)("div",{className:"px-4 my-5 bg-light rounded-3",children:[Object(n.jsxs)("div",{className:"container py-4",children:[Object(n.jsx)("h2",{className:"my-4",children:"Your Shopping Cart"}),Object(n.jsx)("div",{className:"cart-items",children:e.lineItems.length>0?Object(n.jsx)("div",{className:"row justify-content-center",children:e.lineItems.map((e=>{var t;return Object(n.jsx)("div",{className:"card mb-3",children:Object(n.jsxs)("div",{className:"row g-0",children:[Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsx)("img",{src:(null===(t=e.variant.images[0])||void 0===t?void 0:t.url)||"https://via.placeholder.com/150",className:"img-fluid rounded-start",alt:e.name.en||"Product Image"})}),Object(n.jsx)("div",{className:"col-md-4",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{className:"card-title",children:e.name["en-US"]}),Object(n.jsxs)("p",{className:"card-text",children:["Price: $",e.price.value.centAmount/100]}),Object(n.jsxs)("p",{className:"card-text",children:["Quantity: ",e.quantity]}),Object(n.jsxs)("p",{className:"card-text",children:["Total: $",e.totalPrice.centAmount/100]})]})})]})},e.id)}))}):Object(n.jsx)("h3",{children:"Your Cart is Empty"})}),Object(n.jsx)("div",{className:"cart-total mt-3",children:Object(n.jsxs)("h4",{children:["Total Amount: $",e.lineItems.reduce(((e,t)=>e+t.totalPrice.centAmount/100),0)]})})]}),Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)(i.b,{to:"/checkout",className:"btn btn-outline-primary mb-5 w-25 mx-auto",children:"Proceed To checkout"})})})]})};var k=()=>{const[e,t]=Object(a.useState)(null),[s,c]=Object(a.useState)({name:"",address:"",city:"",state:"",postalCode:"",country:"",email:"",phone:""}),[r,i]=Object(a.useState)(0),o=localStorage.getItem("cartId"),[l,d]=Object(a.useState)(null),[j,m]=Object(a.useState)({}),u=Object(b.p)();Object(a.useEffect)((()=>{(async()=>{try{const e=await w(o);if(e){t(e),d(e.version);const s=e.lineItems.reduce(((e,t)=>e+t.totalPrice.centAmount/100),0);i(s)}}catch(e){console.error("Failed to fetch cart data:",e)}})()}),[o]);const h=e=>{const{name:t,value:s}=e.target;c((e=>({...e,[t]:s})))};Object(a.useEffect)((()=>{console.log(s),s&&(()=>{const{name:e,address:t,city:a,state:c,postalCode:r,country:i,email:n,phone:o}=s,l={};e||(l.name="Name is required"),t||(l.address="Address is required"),a||(l.city="City is required"),c||(l.state="State is required"),r||(l.postalCode="Postal Code is required"),i||(l.country="Country is required"),n?/\S+@\S+\.\S+/.test(n)||(l.email="Email address is invalid"):l.email="Email is required",o?/^\d{10}$/.test(o)||(l.phone="Phone number is invalid"):l.phone="Phone number is required",m(l),Object.keys(l).length})()}),[s]);return e?Object(n.jsxs)("div",{className:"container my-5",children:[Object(n.jsx)("h2",{className:"mb-4",children:"Checkout"}),Object(n.jsxs)("div",{className:"mb-5",children:[Object(n.jsx)("h3",{children:"Your Cart"}),Object(n.jsx)("ul",{className:"list-group",children:e.lineItems.map((e=>Object(n.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(n.jsx)("span",{children:e.name["en-US"]}),Object(n.jsxs)("span",{children:[e.quantity," x $",e.price.value.centAmount/100]})]},e.id)))}),Object(n.jsxs)("h4",{className:"mt-3",children:["Total: $",r]})]}),Object(n.jsxs)("div",{className:"mb-5",children:[Object(n.jsx)("h3",{children:"Shipping Information"}),Object(n.jsx)("form",{children:[{label:"Full Name",name:"name"},{label:"Address",name:"address"},{label:"City",name:"city"},{label:"State",name:"state"},{label:"Postal Code",name:"postalCode"},{label:"Country",name:"country"},{label:"Email",name:"email",type:"email"},{label:"Phone Number",name:"phone",type:"tel"}].map((e=>Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{htmlFor:e.name,className:"form-label",children:e.label}),Object(n.jsx)("input",{type:e.type||"text",className:"form-control "+(j[e.name]?"is-invalid":""),id:e.name,name:e.name,value:s[e.name],onChange:h,required:!0}),j[e.name]&&Object(n.jsx)("div",{className:"invalid-feedback",children:j[e.name]})]},e.name)))})]}),Object(n.jsx)("button",{onClick:async()=>{try{const e=await w(o);if(e&&"Active"!==e.cartState){console.log("Cart is not active. Creating a new cart...");const a=await N("USD");if(a&&a.id){t(a),d(a.version),localStorage.setItem("cartId",a.id);for(const t of e.lineItems)await f(a.id,t.sku,t.quantity);const c=await S(a.id,s,a.version),r=await C(a.id,s,c.version);if(r)return console.log("Order placed successfully:",r),alert("Order placed successfully!"),void u("/order-confirmation",{state:{order:r}})}else console.error("Failed to create a new cart.")}const a=await S(o,s,l);if(a){console.log("Shipping address set successfully on cart:",a);const e=await C(o,s,a.version);e&&(console.log("Order placed successfully:",e),alert("Order placed successfully!"),u("/order-confirmation",{state:{order:e}}))}}catch(e){console.error("Failed to place order:",e)}},className:"btn btn-primary",disabled:Object.keys(j).length>0,children:"Place Order"})]}):Object(n.jsx)("div",{children:"Loading cart details..."})},P=s(39);s(30);var E=()=>{const[e,t]=Object(a.useState)(""),[s,c]=Object(a.useState)(""),[r,i]=Object(a.useState)(""),[o,l]=Object(a.useState)(!1);return Object(n.jsxs)("div",{className:"login-container",children:[Object(n.jsx)("h2",{children:"Login Page"}),Object(n.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(""),l(!0);try{const t=await P.a.post("http://localhost:4000/login",{username:e,password:s});localStorage.setItem("user",t.data.token),alert("Login successful!"),window.location.href="/products"}catch(a){i("Invalid username or password. Please try again.")}finally{l(!1)}},className:"login-form",children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Username:"}),Object(n.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"Enter your username",className:"form-control"})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password:"}),Object(n.jsx)("input",{type:"password",value:s,onChange:e=>c(e.target.value),required:!0,placeholder:"Enter your password",className:"form-control"})]}),o?Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!0,children:"Logging in..."}):Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),r&&Object(n.jsx)("div",{className:"error-message",children:r})]})]})};var _=()=>{const[e,t]=Object(a.useState)(null),s=Object(b.p)(),c=Object(b.n)();return Object(a.useEffect)((()=>{var e;const a=null===(e=c.state)||void 0===e?void 0:e.order;a?t(a):s("/")}),[c,s]),e?Object(n.jsxs)("div",{className:"container my-5",children:[Object(n.jsx)("h2",{className:"mb-4",children:"Order Confirmation"}),Object(n.jsxs)("div",{className:"card p-4",children:[Object(n.jsx)("h4",{className:"mb-3",children:"Thank you for your purchase!"}),Object(n.jsx)("p",{children:"Your order has been placed successfully. Below are your order details:"}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsxs)("h5",{children:["Order Number: ",e.orderNumber]})}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("h5",{children:"Items Purchased:"}),Object(n.jsx)("ul",{className:"list-group",children:e.lineItems.map((e=>Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("span",{children:[e.name["en-US"]," - ",e.quantity," x $",e.price.value.centAmount/100]})},e.id)))})]}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsxs)("h5",{children:["Order Total: $",e.totalPrice.centAmount/100]})}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("h5",{children:"Shipping Information:"}),Object(n.jsxs)("p",{children:[e.shippingAddress.firstName," ",e.shippingAddress.lastName,Object(n.jsx)("br",{}),e.shippingAddress.streetName,Object(n.jsx)("br",{}),e.shippingAddress.city,", ",e.shippingAddress.region,Object(n.jsx)("br",{}),e.shippingAddress.postalCode,", ",e.shippingAddress.country,Object(n.jsx)("br",{}),"Email: ",e.shippingAddress.email,Object(n.jsx)("br",{}),"Phone: ",e.shippingAddress.phone]})]}),Object(n.jsx)("button",{className:"btn btn-primary",onClick:()=>s("/"),children:"Back to Home"})]})]}):Object(n.jsx)("div",{children:"Loading order details..."})};var D=()=>{const[e,t]=Object(a.useState)([]),[s,c]=Object(a.useState)(!0);return Object(a.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{return(await v.execute({uri:"/priya-test/orders",method:"GET",headers:{Authorization:`Bearer ${g}`}})).body.results}catch(e){throw console.error("Failed to fetch orders:",e),e}})();t(e),c(!1)}catch(e){console.error("Failed to fetch orders:",e),c(!1)}})()}),[]),s?Object(n.jsx)("div",{children:"Loading your orders..."}):0===e.length?Object(n.jsx)("div",{children:"No orders found."}):Object(n.jsxs)("div",{className:"container my-5",children:[Object(n.jsx)("h2",{className:"mb-4",children:"My Orders"}),Object(n.jsx)("ul",{className:"list-group",children:e.map((e=>Object(n.jsx)("li",{className:"list-group-item",children:Object(n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("h5",{children:["Order Number: ",e.orderNumber]}),Object(n.jsxs)("p",{children:["Total: $",e.totalPrice.centAmount/100," ",Object(n.jsx)("br",{}),"Order Date: ",new Date(e.createdAt).toLocaleDateString()," ",Object(n.jsx)("br",{}),"Status: ",e.orderState]})]}),Object(n.jsx)("a",{href:`/order/${e.id}`,className:"btn btn-outline-primary",children:"View Details"})]})},e.id)))})]})};var q=()=>{const{orderId:e}=Object(b.r)(),[t,s]=Object(a.useState)(null),[c,r]=Object(a.useState)(!0);return Object(a.useEffect)((()=>{(async()=>{try{const t=await(async e=>{try{return(await y.execute({uri:`/priya-test/orders/${e}`,method:"GET",headers:{Authorization:`Bearer ${g}`}})).body}catch(t){throw console.error("Error fetching order details:",t),t}})(e);s(t)}catch(t){console.error("Failed to fetch order details:",t)}finally{r(!1)}})()}),[e]),c?Object(n.jsx)("div",{children:"Loading order details..."}):t?Object(n.jsxs)("div",{className:"container my-5",children:[Object(n.jsx)("h2",{className:"mb-4",children:"Order Details"}),Object(n.jsxs)("div",{className:"order-summary mb-5",children:[Object(n.jsxs)("h4",{children:["Order Number: ",t.orderNumber]}),Object(n.jsxs)("p",{children:["Order Date: ",new Date(t.createdAt).toLocaleDateString()]}),Object(n.jsxs)("p",{children:["Status: ",t.orderState]}),Object(n.jsxs)("p",{children:["Total Amount: $",t.totalPrice.centAmount/100]})]}),Object(n.jsx)("h3",{className:"mb-4",children:"Shipping Information"}),Object(n.jsxs)("div",{className:"shipping-info mb-5",children:[Object(n.jsxs)("p",{children:["Name: ",t.shippingAddress.firstName," ",t.shippingAddress.lastName]}),Object(n.jsxs)("p",{children:["Address: ",t.shippingAddress.streetName,", ",t.shippingAddress.city,", ",t.shippingAddress.region,", ",t.shippingAddress.postalCode,", ",t.shippingAddress.country]}),Object(n.jsxs)("p",{children:["Email: ",t.shippingAddress.email]}),Object(n.jsxs)("p",{children:["Phone: ",t.shippingAddress.phone]})]}),Object(n.jsx)("h3",{className:"mb-4",children:"Items Ordered"}),Object(n.jsx)("ul",{className:"list-group",children:t.lineItems.map((e=>Object(n.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(n.jsx)("span",{children:e.name["en-US"]}),Object(n.jsxs)("span",{children:[e.quantity," x $",e.price.value.centAmount/100]})]},e.id)))})]}):Object(n.jsx)("div",{children:"No order found."})};function $(e){let{children:t}=e;return localStorage.getItem("user")?t:Object(n.jsx)(b.a,{to:"/login"})}var F=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(o,{}),Object(n.jsxs)(b.d,{children:[Object(n.jsx)(b.b,{path:"/login",element:Object(n.jsx)(E,{})}),Object(n.jsx)(b.b,{path:"/",element:Object(n.jsx)($,{children:Object(n.jsx)(d,{})})}),Object(n.jsx)(b.b,{path:"/products",element:Object(n.jsx)($,{children:Object(n.jsx)(l,{})})}),Object(n.jsx)(b.b,{path:"/products/:id",element:Object(n.jsx)($,{children:Object(n.jsx)(A,{})})}),Object(n.jsx)(b.b,{path:"/cart",element:Object(n.jsx)($,{children:Object(n.jsx)(I,{})})}),Object(n.jsx)(b.b,{path:"/checkout",element:Object(n.jsx)($,{children:Object(n.jsx)(k,{})})}),Object(n.jsx)(b.b,{path:"/order-confirmation",element:Object(n.jsx)($,{children:Object(n.jsx)(_,{})})}),Object(n.jsx)(b.b,{path:"/my-orders",element:Object(n.jsx)($,{children:Object(n.jsx)(D,{})})}),Object(n.jsx)(b.b,{path:"/order/:orderId",element:Object(n.jsx)($,{children:Object(n.jsx)(q,{})})}),Object(n.jsx)(b.b,{path:"/about",element:Object(n.jsx)($,{children:Object(n.jsx)(j,{})})}),Object(n.jsx)(b.b,{path:"/contact",element:Object(n.jsx)($,{children:Object(n.jsx)(m,{})})}),Object(n.jsx)(b.b,{path:"*",element:Object(n.jsx)(b.a,{to:"/"})})]})]})};r.a.render(Object(n.jsx)(i.a,{children:Object(n.jsx)(F,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.8a4cc4e3.chunk.js.map