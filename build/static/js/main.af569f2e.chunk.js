(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{69:function(e,t,a){},70:function(e,t,a){},76:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var r=a(1),s=a(24),c=a.n(s),n=a(10),i=(a(47),a(48),a(68),a(69),a(70),a(0)),o=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(i.jsxs)("div",{className:"container-fluid py-2",children:[Object(i.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})}),Object(i.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(i.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(n.b,{className:"nav-link","aria-current":"page",to:"/",children:"Home"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(n.b,{className:"nav-link",to:"/products",children:"Product"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(n.b,{className:"nav-link",to:"/about",children:"About"})}),Object(i.jsx)("li",{className:"nav-item",children:Object(i.jsx)(n.b,{className:"nav-link",to:"/contact",children:"Contact"})})]}),Object(i.jsx)(n.b,{className:"navbar-brand mx-auto fw-bold",to:"/",children:"E-Commerce Site"}),Object(i.jsx)("button",{type:"button",className:"btn btn-outline-primary ms-auto","data-bs-toggle":"modal","data-bs-target":"#loginModal",children:localStorage.getItem("user")?Object(i.jsx)("a",{className:"fa fa-sign-in me-1",href:"/",onClick:function(){localStorage.removeItem("user"),window.location.href="/login"},children:"Logout"}):Object(i.jsx)(n.b,{className:"fa fa-sign-in me-1",to:"/login",children:"Login"})}),Object(i.jsxs)(n.b,{to:"/cart",className:"btn btn-outline-primary ms-2",children:[Object(i.jsx)("span",{className:"fa fa-shopping-cart me-1"})," Go to Cart"]}),Object(i.jsxs)(n.b,{to:"/my-orders",className:"btn btn-outline-primary ms-2",children:[Object(i.jsx)("span",{className:"fa fa-truck me-1"})," My Orders"]})]})]})})})},l=function(){return Object(i.jsx)("div",{})},d=a(3),u=a.n(d),j=a(7),m=a(5),b=function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(null),o=Object(m.a)(c,2),l=o[0],d=o[1],b=Object(r.useState)([]),p=Object(m.a)(b,2),h=p[0],x=p[1],O=Object(r.useState)({}),v=Object(m.a)(O,2),f=v[0],y=v[1];return Object(r.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"IVEdzXUawMnh8-OqOhUvJd8S","dUW4oYPMaTLdN4EvOCPq4u2DQwrlXdF0","https://auth.eastus.azure.commercetools.com/oauth/token","view_product_selections:priya-test view_shipping_methods:priya-test view_categories:priya-test view_discount_codes:priya-test view_project_settings:priya-test manage_order_edits:priya-test manage_shopping_lists:priya-test view_published_products:priya-test view_cart_discounts:priya-test view_products:priya-test view_tax_categories:priya-test view_standalone_prices:priya-test manage_orders:priya-test manage_sessions:priya-test view_sessions:priya-test view_types:priya-test create_anonymous_token:priya-test manage_customers:priya-test",(t=new URLSearchParams).append("grant_type","client_credentials"),t.append("scope","view_product_selections:priya-test view_shipping_methods:priya-test view_categories:priya-test view_discount_codes:priya-test view_project_settings:priya-test manage_order_edits:priya-test manage_shopping_lists:priya-test view_published_products:priya-test view_cart_discounts:priya-test view_products:priya-test view_tax_categories:priya-test view_standalone_prices:priya-test manage_orders:priya-test manage_sessions:priya-test view_sessions:priya-test view_types:priya-test create_anonymous_token:priya-test manage_customers:priya-test"),a=btoa("".concat("IVEdzXUawMnh8-OqOhUvJd8S",":").concat("dUW4oYPMaTLdN4EvOCPq4u2DQwrlXdF0")),e.prev=8,e.next=11,fetch("https://auth.eastus.azure.commercetools.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic ".concat(a)},body:t.toString()});case 11:if((r=e.sent).ok){e.next=14;break}throw new Error("Failed to fetch token");case 14:return e.next=16,r.json();case 16:c=e.sent,s(c.access_token),localStorage.setItem("token",c.access_token),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(8),d(e.t0.message);case 24:case"end":return e.stop()}}),e,null,[[8,21]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){a&&function(){var e=Object(j.a)(u.a.mark((function e(t){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}return console.log(t),e.prev=2,e.next=5,fetch("https://api.eastus.azure.commercetools.com/priya-test/products",{headers:{Authorization:"Bearer ".concat(t)}});case 5:return a=e.sent,e.next=8,a.json();case 8:(r=e.sent).results?x(r.results):console.log("No products found."),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),d("Failed to fetch products");case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()(a)}),[a]),Object(r.useEffect)((function(){var e=h.reduce((function(e,t){console.log(t.productType);var a=t.productType.name||"Unknown Type";return e[a]||(e[a]=[]),e[a].push(t),e}),{});y(e)}),[h]),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"container py-5",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"col-12 text-center",children:[Object(i.jsx)("h1",{children:"Products"}),Object(i.jsx)("hr",{})]})})}),Object(i.jsx)("div",{className:"container",children:Object(i.jsxs)("div",{className:"row justify-content-around",children:[console.log(h),l&&Object(i.jsx)("p",{className:"alert alert-danger",children:l}),Object.keys(f).length>0?Object.keys(f).map((function(e){return Object(i.jsx)("div",{className:"row justify-content-around",children:f[e].map((function(e){return Object(i.jsxs)("div",{class:"card my-5 py-4",style:{width:"18rem"},children:[Object(i.jsx)("img",{src:e.masterData.current.masterVariant&&e.masterData.current.masterVariant.images&&e.masterData.current.masterVariant.images.length>0?e.masterData.current.masterVariant.images[0].url:"https://via.placeholder.com/150",alt:e.masterData.current.name.en||"Product Image",class:"card-img-top"}),Object(i.jsxs)("div",{class:"card-body text-center",children:[Object(i.jsx)("h5",{class:"card-title",children:e.masterData.current.name["en-US"]}),Object(i.jsxs)("p",{className:"lead",children:["$",e.masterData.current.masterVariant.prices[0].value.centAmount/100," "]}),Object(i.jsx)(n.b,{to:"/products/".concat(e.id),class:"btn btn-outline-primary",children:"Buy Now"})]})]},e.id)}))})})):Object(i.jsx)("p",{className:"text-center",children:"Loading products..."})]})})]})},p=function(){return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{id:"carouselExampleIndicators",class:"carousel slide","data-bs-ride":"carousel",children:[Object(i.jsxs)("div",{class:"carousel-indicators",children:[Object(i.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"0",class:"active","aria-current":"true","aria-label":"Slide 1"}),Object(i.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"1","aria-label":"Slide 2"}),Object(i.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"2","aria-label":"Slide 3"}),Object(i.jsx)("button",{type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide-to":"3","aria-label":"Slide 4"})]}),Object(i.jsxs)("div",{class:"carousel-inner",children:[Object(i.jsx)("div",{class:"carousel-item active",children:Object(i.jsx)("img",{src:"/assets/images/home/1.jpg",class:"d-block w-75",alt:"IPhone",height:"500px",style:{margin:"0 auto"}})}),Object(i.jsx)("div",{class:"carousel-item",children:Object(i.jsx)("img",{src:"/assets/images/home/2.jpg",class:"d-block w-75",alt:"IPhone",height:"500px",style:{margin:"0 auto"}})}),Object(i.jsx)("div",{class:"carousel-item",children:Object(i.jsx)("img",{src:"/assets/images/home/3.webp",class:"d-block w-75",alt:"IPhone",height:"500px",style:{margin:"0 auto"}})}),Object(i.jsx)("div",{class:"carousel-item",children:Object(i.jsx)("img",{src:"/assets/images/home/4.webp",class:"d-block w-75",alt:"IPhone",height:"500px",style:{margin:"0 auto"}})})]}),Object(i.jsxs)("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"prev",children:[Object(i.jsx)("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),Object(i.jsx)("span",{class:"visually-hidden",children:"Previous"})]}),Object(i.jsxs)("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselExampleIndicators","data-bs-slide":"next",children:[Object(i.jsx)("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),Object(i.jsx)("span",{class:"visually-hidden",children:"Next"})]})]}),Object(i.jsx)(b,{})]})},h=function(){return Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"container py-5 my-5",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsxs)("div",{className:"col-md-6",children:[Object(i.jsx)("h1",{className:"text-primary fw-bold mb-4",children:"About Us"}),Object(i.jsx)("p",{className:"lead mb-4",children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Nemo molestiae earum rem doloremque, nihil delectus ullam error consectetur? Dicta, non exercitationem in consectetur totam dolorum at voluptate laudantium aliquam, officiis perspiciatis molestias reiciendis consequuntur ullam perferendis velit blanditiis distinctio assumenda a maxime reprehenderit atque. Nam eius rerum distinctio, a illo earum, optio molestias nostrum maxime quibusdam delectus, adipisci impedit? Nam corporis reiciendis minus quod eaque, laborum veritatis voluptatibus id maiores tempore accusantium recusandae perspiciatis, officia cum ad maxime fuga repellendus a magni consequatur. Unde adipisci hic provident est sint corporis, dolorem esse autem soluta molestiae optio quisquam eligendi obcaecati minima?"}),Object(i.jsx)(n.b,{to:"/contact",className:"btn btn-outline-primary px-3",children:"Contact Us"})]}),Object(i.jsx)("div",{className:"col-md-6 d-flex justify-content-center",children:Object(i.jsx)("img",{src:"/assets/images/about.png",alt:"About Us",height:"400px",width:"400px"})})]})})})},x=function(){return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{className:"container mb-5",children:[Object(i.jsx)("div",{className:"row",children:Object(i.jsxs)("div",{className:"col-12 text-center py-4 my-4",children:[Object(i.jsx)("h1",{children:"Have Some Question?"}),Object(i.jsx)("hr",{})]})}),Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md 5 d-flex justify-content-center",children:Object(i.jsx)("img",{src:"/assets/images/contact.png",alt:"Contact Us",height:"300px",width:"300px"})}),Object(i.jsx)("div",{className:"col-md-6",children:Object(i.jsxs)("form",{children:[Object(i.jsxs)("div",{class:"mb-3",children:[Object(i.jsx)("label",{for:"exampleForm",class:"form-label",children:"Full Name"}),Object(i.jsx)("input",{type:"text",class:"form-control",id:"exampleForm",placeholder:"John Smith"})]}),Object(i.jsxs)("div",{class:"mb-3",children:[Object(i.jsx)("label",{for:"exampleFormControlInput1",class:"form-label",children:"Email address"}),Object(i.jsx)("input",{type:"email",class:"form-control",id:"exampleFormControlInput1",placeholder:"name@example.com"})]}),Object(i.jsxs)("div",{class:"mb-3",children:[Object(i.jsx)("label",{for:"exampleFormControlTextarea1",class:"form-label",children:"Example textarea"}),Object(i.jsx)("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"5"})]}),Object(i.jsx)("button",{type:"submit",class:"btn btn-outline-primary",children:"Send Message"})]})})]})]})})},O=a(6),v=a(30),f=a(31),y=a(32),g=Object(f.createAuthMiddlewareForClientCredentialsFlow)({host:"https://auth.eastus.azure.commercetools.com",projectKey:"your-project-key",credentials:{clientId:"your-client-id",clientSecret:"your-client-secret"}}),N=Object(y.createHttpMiddleware)({host:"https://api.eastus.azure.commercetools.com"}),w=Object(v.createClient)({middlewares:[g,N]}),k=localStorage.getItem("token"),S=Object(v.createClient)({middlewares:[Object(f.createAuthMiddlewareForClientCredentialsFlow)({host:"https://auth.eastus.azure.commercetools.com",projectKey:"priya-test",credentials:{clientId:"IVEdzXUawMnh8-OqOhUvJd8S",clientSecret:"dUW4oYPMaTLdN4EvOCPq4u2DQwrlXdF0"},fetch:fetch}),Object(y.createHttpMiddleware)({host:"https://api.eastus.azure.commercetools.com",fetch:fetch})]}),C=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.execute({uri:"/priya-test/carts",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Bearer ".concat(k)},body:{currency:t}});case 3:return a=e.sent,localStorage.setItem("cartId",a.body.id),e.abrupt("return",a.body);case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to create cart:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(u.a.mark((function e(t,a,r){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.execute({uri:"/priya-test/carts/".concat(t),method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(k)},body:{version:1,actions:[{action:"addLineItem",sku:a,quantity:r}]}});case 3:return s=e.sent,e.abrupt("return",s.body);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Failed to add item to cart:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,r){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.execute({uri:"/priya-test/carts/".concat(t),method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 3:return a=e.sent,e.abrupt("return",a.body);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Error fetching cart:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(u.a.mark((function e(t,a,r){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.execute({uri:"/priya-test/carts/".concat(t),method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({version:r,actions:[{action:"setShippingAddress",address:{firstName:a.name.split(" ")[0]||"",lastName:a.name.split(" ")[1]||"",streetName:a.address,city:a.city,region:a.state,postalCode:a.postalCode,country:a.country.slice(0,2).toUpperCase(),email:a.email,phone:a.phone}}]})});case 3:return s=e.sent,e.abrupt("return",s.body);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Failed to set shipping address on cart:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,r){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(u.a.mark((function e(t,a,r){var s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.execute({uri:"/priya-test/orders",method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({cart:{id:t},version:r,orderNumber:"".concat(Date.now()),shippingAddress:{firstName:a.name.split(" ")[0]||"",lastName:a.name.split(" ")[1]||"",streetName:a.address,city:a.city,state:a.state,postalCode:a.postalCode,country:a.country.slice(0,2).toUpperCase(),email:a.email,phone:a.phone}})});case 3:return s=e.sent,console.log(s),e.abrupt("return",s.body);case 8:throw e.prev=8,e.t0=e.catch(0),console.error("Failed to place order:",e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a,r){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.execute({uri:"/priya-test/me/orders",method:"GET",headers:{Authorization:"Bearer ".concat(k)}});case 3:return t=e.sent,e.abrupt("return",t.body.results);case 7:throw e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch orders:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(r.useState)("Add to Cart"),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(null),n=Object(m.a)(c,2),o=n[0],l=n[1],d=localStorage.getItem("token"),b=Object(O.r)().id,p=Object(r.useState)(null),h=Object(m.a)(p,2),x=h[0],v=h[1],f=Object(r.useState)(1),y=Object(m.a)(f,2),g=(y[0],y[1]),N=Object(r.useState)(1),w=Object(m.a)(N,2),k=w[0],S=w[1];Object(r.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||!d){e.next=16;break}return e.prev=1,e.next=4,fetch("https://api.eastus.azure.commercetools.com/priya-test/products/".concat(b),{headers:{Authorization:"Bearer ".concat(d)}});case 4:if((t=e.sent).ok){e.next=7;break}throw new Error("Failed to fetch product");case 7:return e.next=9,t.json();case 9:(a=e.sent)?l(a):console.log("No product found."),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log("Failed to fetch product:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}})()()}),[b,d]),Object(r.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"USD",e.next=4,C("USD");case 4:(t=e.sent)&&t.id?(v(t),g(t.version)):console.error("Invalid cart data:",t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to create or retrieve cart:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var I=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(x.id),console.log(o.masterData.current.masterVariant.sku),console.log(k),o&&x){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,_(x.id,o.masterData.current.masterVariant.sku,k);case 8:(t=e.sent)&&(g(t.version),s("Remove from Cart"),console.log("Cart updated successfully:",t)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Failed to update cart:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(){return e.apply(this,arguments)}}();return o?Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"container my-5 py-3",children:Object(i.jsxs)("div",{className:"row",children:[Object(i.jsx)("div",{className:"col-md-6 d-flex justify-content-center mx-auto product",children:Object(i.jsx)("img",{src:o.masterData.current.masterVariant&&o.masterData.current.masterVariant.images&&o.masterData.current.masterVariant.images.length>0?o.masterData.current.masterVariant.images[0].url:"https://via.placeholder.com/150",alt:o.masterData.current.name.en||"Product Image",height:"400px"})}),Object(i.jsxs)("div",{className:"col-md-6 d-flex flex-column justify-content-center",children:[Object(i.jsx)("h1",{className:"display-5 fw-bold",children:o.masterData.current.name["en-US"]}),Object(i.jsx)("hr",{}),Object(i.jsxs)("h2",{className:"my-4",children:["Price: $",o.masterData.current.masterVariant.prices[0].value.centAmount/100," "]}),Object(i.jsx)("p",{className:"lead",children:o.masterData.current.description["en-US"]}),Object(i.jsxs)("div",{className:"input-group mb-3",children:[Object(i.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return S(Math.max(1,k-1))},children:"-"}),Object(i.jsx)("input",{type:"number",className:"form-control",value:k,min:"1",onChange:function(e){var t=parseInt(e.target.value);S(isNaN(t)?1:t)}}),Object(i.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){return S(k+1)},children:"+"})]}),Object(i.jsx)("button",{onClick:I,className:"btn btn-outline-primary my-2",children:a}),Object(i.jsx)("a",{href:"/cart",className:"btn btn-outline-primary my-2",children:"Go to Cart"})]})]})})}):Object(i.jsx)("div",{children:"Loading product details..."})},q=function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),a=t[0],s=t[1],c=localStorage.getItem("cartId");if(Object(r.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(c);case 3:(t=e.sent)&&s(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch cart data:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),!a)return Object(i.jsx)("div",{children:"Loading Cart..."});if(0===a.lineItems.length)return Object(i.jsx)("div",{children:"Your cart is empty!"});return Object(i.jsxs)("div",{className:"px-4 my-5 bg-light rounded-3",children:[Object(i.jsxs)("div",{className:"container py-4",children:[Object(i.jsx)("h2",{className:"my-4",children:"Your Shopping Cart"}),Object(i.jsx)("div",{className:"cart-items",children:a.lineItems.length>0?Object(i.jsx)("div",{className:"row justify-content-center",children:a.lineItems.map((function(e){var t;return Object(i.jsx)("div",{className:"card mb-3",children:Object(i.jsxs)("div",{className:"row g-0",children:[Object(i.jsx)("div",{className:"col-md-4",children:Object(i.jsx)("img",{src:(null===(t=e.variant.images[0])||void 0===t?void 0:t.url)||"https://via.placeholder.com/150",className:"img-fluid rounded-start",alt:e.name.en||"Product Image"})}),Object(i.jsx)("div",{className:"col-md-4",children:Object(i.jsxs)("div",{className:"card-body",children:[Object(i.jsx)("h5",{className:"card-title",children:e.name["en-US"]}),Object(i.jsxs)("p",{className:"card-text",children:["Price: $",e.price.value.centAmount/100]}),Object(i.jsxs)("p",{className:"card-text",children:["Quantity: ",e.quantity]}),Object(i.jsxs)("p",{className:"card-text",children:["Total: $",e.totalPrice.centAmount/100]})]})})]})},e.id)}))}):Object(i.jsx)("h3",{children:"Your Cart is Empty"})}),Object(i.jsx)("div",{className:"cart-total mt-3",children:Object(i.jsxs)("h4",{children:["Total Amount: $",a.lineItems.reduce((function(e,t){return e+t.totalPrice.centAmount/100}),0)]})})]}),Object(i.jsx)("div",{className:"container",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsx)(n.b,{to:"/checkout",className:"btn btn-outline-primary mb-5 w-25 mx-auto",children:"Proceed To checkout"})})})]})},D=a(13),T=a(9),U=a(15),L=function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)({name:"",address:"",city:"",state:"",postalCode:"",country:"",email:"",phone:""}),n=Object(m.a)(c,2),o=n[0],l=n[1],d=Object(r.useState)(0),b=Object(m.a)(d,2),p=b[0],h=b[1],x=localStorage.getItem("cartId"),v=Object(r.useState)(null),f=Object(m.a)(v,2),y=f[0],g=f[1],N=Object(r.useState)({}),w=Object(m.a)(N,2),k=w[0],S=w[1],E=Object(O.p)();Object(r.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(x);case 3:(t=e.sent)&&(s(t),g(t.version),a=t.lineItems.reduce((function(e,t){return e+t.totalPrice.centAmount/100}),0),h(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to fetch cart data:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[x]);var F=function(e){var t=e.target,a=t.name,r=t.value;l((function(e){return Object(U.a)(Object(U.a)({},e),{},Object(T.a)({},a,r))}))};Object(r.useEffect)((function(){console.log(o),o&&function(){var e=o.name,t=o.address,a=o.city,r=o.state,s=o.postalCode,c=o.country,n=o.email,i=o.phone,l={};e||(l.name="Name is required"),t||(l.address="Address is required"),a||(l.city="City is required"),r||(l.state="State is required"),s||(l.postalCode="Postal Code is required"),c||(l.country="Country is required"),n?/\S+@\S+\.\S+/.test(n)||(l.email="Email address is invalid"):l.email="Email is required",i?/^\d{10}$/.test(i)||(l.phone="Phone number is invalid"):l.phone="Phone number is required",S(l),Object.keys(l).length}()}),[o]);var q=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a,r,c,n,i,l,d,j;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(x);case 3:if(!(t=e.sent)||"Active"===t.cartState){e.next=44;break}return console.log("Cart is not active. Creating a new cart..."),e.next=8,C("USD");case 8:if(!(a=e.sent)||!a.id){e.next=43;break}s(a),g(a.version),localStorage.setItem("cartId",a.id),r=Object(D.a)(t.lineItems),e.prev=14,r.s();case 16:if((c=r.n()).done){e.next=22;break}return n=c.value,e.next=20,_(a.id,n.sku,n.quantity);case 20:e.next=16;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(14),r.e(e.t0);case 27:return e.prev=27,r.f(),e.finish(27);case 30:return e.next=32,P(a.id,o,a.version);case 32:return i=e.sent,e.next=35,A(a.id,o,i.version);case 35:if(!(l=e.sent)){e.next=41;break}return console.log("Order placed successfully:",l),alert("Order placed successfully!"),E("/order-confirmation",{state:{order:l}}),e.abrupt("return");case 41:e.next=44;break;case 43:console.error("Failed to create a new cart.");case 44:return e.next=46,P(x,o,y);case 46:if(!(d=e.sent)){e.next=53;break}return console.log("Shipping address set successfully on cart:",d),e.next=51,A(x,o,d.version);case 51:(j=e.sent)&&(console.log("Order placed successfully:",j),alert("Order placed successfully!"),E("/order-confirmation",{state:{order:j}}));case 53:e.next=58;break;case 55:e.prev=55,e.t1=e.catch(0),console.error("Failed to place order:",e.t1);case 58:case"end":return e.stop()}}),e,null,[[0,55],[14,24,27,30]])})));return function(){return e.apply(this,arguments)}}();return a?Object(i.jsxs)("div",{className:"container my-5",children:[Object(i.jsx)("h2",{className:"mb-4",children:"Checkout"}),Object(i.jsxs)("div",{className:"mb-5",children:[Object(i.jsx)("h3",{children:"Your Cart"}),Object(i.jsx)("ul",{className:"list-group",children:a.lineItems.map((function(e){return Object(i.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[Object(i.jsx)("span",{children:e.name["en-US"]}),Object(i.jsxs)("span",{children:[e.quantity," x $",e.price.value.centAmount/100]})]},e.id)}))}),Object(i.jsxs)("h4",{className:"mt-3",children:["Total: $",p]})]}),Object(i.jsxs)("div",{className:"mb-5",children:[Object(i.jsx)("h3",{children:"Shipping Information"}),Object(i.jsx)("form",{children:[{label:"Full Name",name:"name"},{label:"Address",name:"address"},{label:"City",name:"city"},{label:"State",name:"state"},{label:"Postal Code",name:"postalCode"},{label:"Country",name:"country"},{label:"Email",name:"email",type:"email"},{label:"Phone Number",name:"phone",type:"tel"}].map((function(e){return Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("label",{htmlFor:e.name,className:"form-label",children:e.label}),Object(i.jsx)("input",{type:e.type||"text",className:"form-control ".concat(k[e.name]?"is-invalid":""),id:e.name,name:e.name,value:o[e.name],onChange:F,required:!0}),k[e.name]&&Object(i.jsx)("div",{className:"invalid-feedback",children:k[e.name]})]},e.name)}))})]}),Object(i.jsx)("button",{onClick:q,className:"btn btn-primary",disabled:Object.keys(k).length>0,children:"Place Order"})]}):Object(i.jsx)("div",{children:"Loading cart details..."})},z=a(85),V=(a(76),function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(""),n=Object(m.a)(c,2),o=n[0],l=n[1],d=Object(r.useState)(""),b=Object(m.a)(d,2),p=b[0],h=b[1],x=Object(r.useState)(!1),O=Object(m.a)(x,2),v=O[0],f=O[1],y=function(){var e=Object(j.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(""),f(!0),e.prev=3,e.next=6,z.a.post("http://localhost:4000/login",{username:a,password:o});case 6:r=e.sent,localStorage.setItem("user",r.data.token),alert("Login successful!"),window.location.href="/product",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),h("Invalid username or password. Please try again.");case 15:return e.prev=15,f(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,12,15,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.jsxs)("div",{className:"login-container",children:[Object(i.jsx)("h2",{children:"Login Page"}),Object(i.jsxs)("form",{onSubmit:y,className:"login-form",children:[Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Username:"}),Object(i.jsx)("input",{type:"text",value:a,onChange:function(e){return s(e.target.value)},required:!0,placeholder:"Enter your username",className:"form-control"})]}),Object(i.jsxs)("div",{className:"form-group",children:[Object(i.jsx)("label",{children:"Password:"}),Object(i.jsx)("input",{type:"password",value:o,onChange:function(e){return l(e.target.value)},required:!0,placeholder:"Enter your password",className:"form-control"})]}),v?Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!0,children:"Logging in..."}):Object(i.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),p&&Object(i.jsx)("div",{className:"error-message",children:p})]})]})}),M=function(){var e=Object(r.useState)(null),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(O.p)(),n=Object(O.n)();return Object(r.useEffect)((function(){var e,t=null===(e=n.state)||void 0===e?void 0:e.order;t?s(t):c("/")}),[n,c]),a?Object(i.jsxs)("div",{className:"container my-5",children:[Object(i.jsx)("h2",{className:"mb-4",children:"Order Confirmation"}),Object(i.jsxs)("div",{className:"card p-4",children:[Object(i.jsx)("h4",{className:"mb-3",children:"Thank you for your purchase!"}),Object(i.jsx)("p",{children:"Your order has been placed successfully. Below are your order details:"}),Object(i.jsx)("hr",{}),Object(i.jsx)("div",{className:"mb-3",children:Object(i.jsxs)("h5",{children:["Order Number: ",a.orderNumber]})}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("h5",{children:"Items Purchased:"}),Object(i.jsx)("ul",{className:"list-group",children:a.lineItems.map((function(e){return Object(i.jsx)("li",{className:"list-group-item",children:Object(i.jsxs)("span",{children:[e.name["en-US"]," - ",e.quantity," x $",e.price.value.centAmount/100]})},e.id)}))})]}),Object(i.jsx)("div",{className:"mb-3",children:Object(i.jsxs)("h5",{children:["Order Total: $",a.totalPrice.centAmount/100]})}),Object(i.jsxs)("div",{className:"mb-3",children:[Object(i.jsx)("h5",{children:"Shipping Information:"}),Object(i.jsxs)("p",{children:[a.shippingAddress.firstName," ",a.shippingAddress.lastName,Object(i.jsx)("br",{}),a.shippingAddress.streetName,Object(i.jsx)("br",{}),a.shippingAddress.city,", ",a.shippingAddress.region,Object(i.jsx)("br",{}),a.shippingAddress.postalCode,", ",a.shippingAddress.country,Object(i.jsx)("br",{}),"Email: ",a.shippingAddress.email,Object(i.jsx)("br",{}),"Phone: ",a.shippingAddress.phone]})]}),Object(i.jsx)("button",{className:"btn btn-primary",onClick:function(){return c("/")},children:"Back to Home"})]})]}):Object(i.jsx)("div",{children:"Loading order details..."})},B=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),a=t[0],s=t[1],c=Object(r.useState)(!0),n=Object(m.a)(c,2),o=n[0],l=n[1],d=Object(O.p)();return Object(r.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E();case 3:t=e.sent,s(t),l(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Failed to fetch orders:",e.t0),l(!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),o?Object(i.jsx)("div",{children:"Loading your orders..."}):0===a.length?Object(i.jsx)("div",{children:"No orders found."}):Object(i.jsxs)("div",{className:"container my-5",children:[Object(i.jsx)("h2",{className:"mb-4",children:"My Orders"}),Object(i.jsx)("ul",{className:"list-group",children:a.map((function(e){return Object(i.jsx)("li",{className:"list-group-item",children:Object(i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("h5",{children:["Order Number: ",e.orderNumber]}),Object(i.jsxs)("p",{children:["Total: $",e.totalPrice.centAmount/100," ",Object(i.jsx)("br",{}),"Order Date: ",new Date(e.createdAt).toLocaleDateString()," ",Object(i.jsx)("br",{}),"Status: ",e.orderState]})]}),Object(i.jsx)("button",{onClick:function(){return d("/order-details/".concat(e.id))},className:"btn btn-outline-primary",children:"View Details"})]})},e.id)}))})]})};function $(e){var t=e.children;return localStorage.getItem("user")?t:Object(i.jsx)(O.a,{to:"/login"})}var J=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o,{}),Object(i.jsxs)(O.d,{children:[Object(i.jsx)(O.b,{path:"/login",element:Object(i.jsx)(V,{})}),Object(i.jsx)(O.b,{path:"/",element:Object(i.jsx)($,{children:Object(i.jsx)(p,{})})}),Object(i.jsx)(O.b,{path:"/products",element:Object(i.jsx)($,{children:Object(i.jsx)(b,{})})}),Object(i.jsx)(O.b,{path:"/products/:id",element:Object(i.jsx)($,{children:Object(i.jsx)(F,{})})}),Object(i.jsx)(O.b,{path:"/cart",element:Object(i.jsx)($,{children:Object(i.jsx)(q,{})})}),Object(i.jsx)(O.b,{path:"/checkout",element:Object(i.jsx)($,{children:Object(i.jsx)(L,{})})}),Object(i.jsx)(O.b,{path:"/order-confirmation",element:Object(i.jsx)($,{children:Object(i.jsx)(M,{})})}),Object(i.jsx)(O.b,{path:"/my-orders",element:Object(i.jsx)($,{children:Object(i.jsx)(B,{})})}),Object(i.jsx)(O.b,{path:"/about",element:Object(i.jsx)($,{children:Object(i.jsx)(h,{})})}),Object(i.jsx)(O.b,{path:"/contact",element:Object(i.jsx)($,{children:Object(i.jsx)(x,{})})}),Object(i.jsx)(O.b,{path:"*",element:Object(i.jsx)(O.a,{to:"/"})})]}),Object(i.jsx)(l,{})]})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,86)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,c=t.getLCP,n=t.getTTFB;a(e),r(e),s(e),c(e),n(e)}))};c.a.render(Object(i.jsx)(n.a,{children:Object(i.jsx)(J,{})}),document.getElementById("root")),Y()}},[[83,1,2]]]);
//# sourceMappingURL=main.af569f2e.chunk.js.map